{{/*
  Breadcrumb navigation with structured data
  Usage: {{ partial "breadcrumb.html" . }}
*/}}
{{ if not .IsHome }}
<nav class="bg-gray-100 py-2" aria-label="Breadcrumb">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <ol class="flex items-center space-x-2 text-sm">
      <li>
        <a href="/" class="text-gray-500 hover:text-yellow-600">Home</a>
      </li>
      {{ range $index, $element := .Ancestors.Reverse }}
        {{ if ne $index 0 }}
          <li class="text-gray-400">/</li>
          <li>
            <a href="{{ .Permalink }}" class="text-gray-500 hover:text-yellow-600">{{ .Title }}</a>
          </li>
        {{ end }}
      {{ end }}
      {{ if not .IsHome }}
        <li class="text-gray-400">/</li>
        <li class="text-gray-900 font-medium" aria-current="page">{{ .Title }}</li>
      {{ end }}
    </ol>
  </div>
</nav>

<!-- BreadcrumbList JSON-LD -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{{ .Site.BaseURL }}"
    }
    {{ $position := 2 }}
    {{ range .Ancestors.Reverse }}
      {{ if ne .IsHome true }}
        ,{
          "@type": "ListItem",
          "position": {{ $position }},
          "name": "{{ .Title }}",
          "item": "{{ .Permalink }}"
        }
        {{ $position = add $position 1 }}
      {{ end }}
    {{ end }}
    {{ if not .IsHome }}
      ,{
        "@type": "ListItem",
        "position": {{ $position }},
        "name": "{{ .Title }}",
        "item": "{{ .Permalink }}"
      }
    {{ end }}
  ]
}
</script>
{{ end }}
